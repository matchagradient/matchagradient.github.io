<head>
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #f5f5f5 0%, #e8e8e8 100%);
            min-height: 100vh;
            position: relative;
            overflow-x: hidden;
        }

        .cube-background {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
        }
        
        .content {
            position: relative;
            z-index: 1;
            padding: 60px 40px;
            max-width: 800px;
            margin: 0 auto;
        }
        
        h1 {
            font-size: 3rem;
            font-weight: 300;
            color: #333;
            margin-bottom: 1.5rem;
            letter-spacing: -1px;
        }
        
        p {
            font-size: 1.1rem;
            line-height: 1.7;
            color: #666;
            margin-bottom: 1.5rem;
        }
        
        .controls {
            background: rgba(255, 255, 255, 0.9);
            padding: 20px;
            border-radius: 8px;
            margin: 2rem 0;
        }
        
        .control-group {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }
        
        .control-item {
            display: flex;
            flex-direction: column;
            gap: 5px;
        }
        
        label {
            font-weight: bold;
            color: #333;
            font-size: 0.9rem;
        }
        
        input[type="number"], input[type="range"] {
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 1rem;
        }
        
        input[type="color"] {
            width: 100%;
            height: 40px;
            border: 1px solid #ddd;
            border-radius: 4px;
            cursor: pointer;
        }
        
        button {
            background: #333;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 1rem;
            transition: background 0.3s;
            margin: 0 5px;
        }
        
        button:hover {
            background: #555;
        }
        
        .svg-output {
            background: rgba(255, 255, 255, 0.95);
            padding: 20px;
            border-radius: 8px;
            margin: 2rem 0;
        }
        
        .svg-display {
            border: 2px solid #ddd;
            border-radius: 4px;
            margin: 10px 0;
            background: white;
        }
        
        textarea {
            width: 100%;
            height: 200px;
            font-family: 'Courier New', monospace;
            font-size: 0.8rem;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            resize: vertical;
        }
    </style>
        <script src="/assets/js/script.js" defer></script>
</head>
<body>
    <svg class="cube-background" viewBox="0 0 1200 800" preserveAspectRatio="xMidYMid slice">
        <g id="cubeContainer"></g>
    </svg>
    <nav>
        <div class="nav-container">
            <div class="logo"><a href="/index.html">Mike Wang</a></div>
            <ul class="nav-links external-links">
                <li><a href="/collections.html">Collections</a></li>
            </ul>
    </nav>
    <div class="content">
        <h1>SVG Cube Generator</h1>
        <p>Build random SVG cubes and customize the color, opacity, and size using controls.</p>
        
        <div class="controls">
            <div class="control-group">
                <div class="control-item">
                    <label for="cubeCount">Number of Cubes:</label>
                    <input type="number" id="cubeCount" min="1" max="200" value="18">

                </div>
                <div></div>
                <div class="control-item">
                    <label for="minSize">Min Size:</label>
                    <input type="number" id="minSize" min="20" max="200" value="30">
                </div>
                <div class="control-item">
                    <label for="maxSize">Max Size:</label>
                    <input type="number" id="maxSize" min="20" max="200" value="100">
                </div>
            </div>
            
            <div class="control-group">
                <div class="control-item">
                    <label for="minOpacity">Min Transparency:</label>
                    <input type="range" id="minOpacity" min="0.1" max="1" step="0.1" value="0.2">
                    <span id="minOpacityValue">0.2</span>
                </div>
                <div class="control-item">
                    <label for="maxOpacity">Max Transparency:</label>
                    <input type="range" id="maxOpacity" min="0.1" max="1" step="0.1" value="0.3">
                    <span id="maxOpacityValue">0.3</span>
                </div>
            </div>
            
            <div class="control-group">
                <div class="control-item">
                    <label for="color1">Color 1:</label>
                    <input type="color" id="color1" value="#000000">
                </div>
                <div class="control-item">
                    <label for="color2">Color 2:</label>
                    <input type="color" id="color2" value="#333333">
                </div>
                <div class="control-item">
                    <label for="color3">Color 3:</label>
                    <input type="color" id="color3" value="#666666">
                </div>
                <div class="control-item">
                    <label for="color4">Color 4:</label>
                    <input type="color" id="color4" value="#999999">
                </div>
                <div class="control-item">
                    <label for="color5">Color 5:</label>
                    <input type="color" id="color5" value="#cccccc">
                </div>
                <div class="control-item">
                    <label for="color6">Color 6:</label>
                    <input type="color" id="color6" value="#ffffff">
                </div>
            </div>
            
            <div style="text-align: center; margin-top: 20px;">
                <button onclick="generateCubes()">Generate New Cubes</button>
                <button onclick="copyToClipboard()">Copy SVG to Clipboard</button>
            </div>
        </div>
        
        <p>The cubes are drawn using isometric projection.</p>
        
        <p><strong>Technical Details:</strong> Each cube is constructed from 6 polygonal faces using SVG paths. The 3D effect is achieved through careful coordinate calculation and face ordering for proper depth perception.</p>
        <div class="svg-output">
            <h3>Preview</h3>
            <div class="svg-display" id="svgDisplay"></div>
            
            <h3>SVG Code Output</h3>
            <textarea id="svgOutput" readonly></textarea>
            <button onclick="copyToClipboard()" style="margin-top: 10px;">Copy SVG Code</button>
        </div>    
</div>
</body>
<script>
// Update opacity value displays
document.getElementById('minOpacity').addEventListener('input', function() {
document.getElementById('minOpacityValue').textContent = this.value;
});

        document.getElementById('maxOpacity').addEventListener('input', function() {
            document.getElementById('maxOpacityValue').textContent = this.value;
        });
        
        function random(min, max) {
            return Math.random() * (max - min) + min;
        }
        
        function randomInt(min, max) {
            return Math.floor(Math.random() * (max - min + 1)) + min;
        }
        
        function getColorPalette() {
            return [
                document.getElementById('color1').value,
                document.getElementById('color2').value,
                document.getElementById('color3').value,
                document.getElementById('color4').value,
                document.getElementById('color5').value,
                document.getElementById('color6').value
            ];
        }
        
        function createCube(x, y, size, rotation, color, opacity) {
            const g = document.createElementNS('http://www.w3.org/2000/svg', 'g');
            g.setAttribute('transform', `translate(${x}, ${y}) rotate(${rotation})`);
            
            // Calculate 3D cube vertices for isometric view
            const s = size;
            const h = s * 0.5; // height offset for isometric
            
            // Define the 8 vertices of the cube in 3D space, then project to 2D
            const vertices = [
                [0, 0, 0],      // 0: front bottom left
                [s, 0, 0],      // 1: front bottom right
                [s, s, 0],      // 2: front top right
                [0, s, 0],      // 3: front top left
                [0, 0, s],      // 4: back bottom left
                [s, 0, s],      // 5: back bottom right
                [s, s, s],      // 6: back top right
                [0, s, s]       // 7: back top left
            ];
            
            // Project 3D vertices to 2D isometric coordinates
            const points2D = vertices.map(([x, y, z]) => [
                x - z * 0.5,           // x projection
                y - z * 0.5 - x * 0.3  // y projection
            ]);
            
            // Define faces (each face is defined by 4 vertex indices)
            const faces = [
                { name: 'front', indices: [0, 1, 2, 3], brightness: 1.0 },
                { name: 'right', indices: [1, 5, 6, 2], brightness: 0.8 },
                { name: 'top', indices: [3, 2, 6, 7], brightness: 0.9 },
                { name: 'back', indices: [5, 4, 7, 6], brightness: 0.6 },
                { name: 'left', indices: [4, 0, 3, 7], brightness: 0.7 },
                { name: 'bottom', indices: [0, 4, 5, 1], brightness: 0.5 }
            ];
            
            // Create each face
            faces.forEach(face => {
                const path = document.createElementNS('http://www.w3.org/2000/svg', 'polygon');
                const facePoints = face.indices.map(i => points2D[i].join(',')).join(' ');
                
                // Adjust color brightness for different faces
                const faceColor = adjustBrightness(color, face.brightness);
                
                path.setAttribute('points', facePoints);
                path.setAttribute('fill', faceColor);
                path.setAttribute('opacity', opacity);
                path.setAttribute('stroke', 'rgba(0,0,0,0.1)');
                path.setAttribute('stroke-width', '0.5');
                
                g.appendChild(path);
            });
            
            return g;
        }
        
        function adjustBrightness(color, factor) {
            // Convert hex to RGB
            const hex = color.replace('#', '');
            const r = parseInt(hex.substr(0, 2), 16);
            const g = parseInt(hex.substr(2, 2), 16);
            const b = parseInt(hex.substr(4, 2), 16);
            
            // Adjust brightness
            const newR = Math.min(255, Math.floor(r * factor));
            const newG = Math.min(255, Math.floor(g * factor));
            const newB = Math.min(255, Math.floor(b * factor));
            
            // Convert back to hex
            return `#${newR.toString(16).padStart(2, '0')}${newG.toString(16).padStart(2, '0')}${newB.toString(16).padStart(2, '0')}`;
        }
        
        function generateCubes() {
            const container = document.getElementById('cubeContainer');
            container.innerHTML = ''; // Clear existing cubes
            
            // Get parameters from inputs
            const cubeCount = parseInt(document.getElementById('cubeCount').value);
            const minSize = parseInt(document.getElementById('minSize').value);
            const maxSize = parseInt(document.getElementById('maxSize').value);
            const minOpacity = parseFloat(document.getElementById('minOpacity').value);
            const maxOpacity = parseFloat(document.getElementById('maxOpacity').value);
            const colors = getColorPalette();
            
            // Generate random cubes
            for (let i = 0; i < cubeCount; i++) {
                const x = random(50, 1150);
                const y = random(50, 750);
                const size = randomInt(minSize, maxSize);
                const rotation = random(-60, 60);
                const color = colors[randomInt(0, colors.length - 1)];
                const opacity = random(minOpacity, maxOpacity);
                
                const cube = createCube(x, y, size, rotation, color, opacity);
                container.appendChild(cube);
            }
            
            updateSVGOutput();
        }
        
        function updateSVGOutput() {
            const svg = document.querySelector('.cube-background');
            const svgClone = svg.cloneNode(true);
            svgClone.classList.remove('cube-background');
            svgClone.style.width = '100%';
            svgClone.style.height = '300px';
            svgClone.style.border = '1px solid #ccc';
            
            // Update display
            const svgDisplay = document.getElementById('svgDisplay');
            svgDisplay.innerHTML = '';
            svgDisplay.appendChild(svgClone);
            
            // Update code output
            const svgOutput = document.getElementById('svgOutput');
            const serializer = new XMLSerializer();
            const svgString = serializer.serializeToString(svg);
            
            // Format the SVG string nicely
            const formattedSVG = svgString
                .replace(/></g, '>\n<')
                .replace(/(\s+)(\w+="[^"]*")/g, '\n  $2')
                .split('\n')
                .map(line => line.trim())
                .filter(line => line.length > 0)
                .join('\n');
            
            svgOutput.value = formattedSVG;
        }
        
        function copyToClipboard() {
            const svgOutput = document.getElementById('svgOutput');
            svgOutput.select();
            svgOutput.setSelectionRange(0, 99999); // For mobile devices
            
            try {
                document.execCommand('copy');
                const button = event.target;
                const originalText = button.textContent;
                button.textContent = 'Copied!';
                button.style.background = '#4CAF50';
                
                setTimeout(() => {
                    button.textContent = originalText;
                    button.style.background = '#333';
                }, 2000);
            } catch (err) {
                console.error('Failed to copy: ', err);
            }
        }
        
        // Generate initial cubes when page loads
        generateCubes();
    </script>